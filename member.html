<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Member</title>
<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>
<style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      background-color: #05070b;
      color: #ffffff;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", Arial, sans-serif;
    }

    .page {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    .header {
      height: 44px;
      padding: 0 16px;
      display: flex;
      align-items: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      flex-shrink: 0;
    }

    .header-left {
      width: 40px;
      display: flex;
      align-items: center;
    }

    .back-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 24px;
      height: 24px;
    }

    .back-icon {
      width: 10px;
      height: 10px;
      border-left: 2px solid #ffffff;
      border-bottom: 2px solid #ffffff;
      transform: rotate(45deg);
    }

    .header-title {
      flex: 1;
      text-align: center;
      font-size: 16px;
      font-weight: 500;
    }

    .header-right {
      width: 40px;
    }

    .main {
      flex: 1;
      padding: 12px 12px 24px;
      overflow-y: auto;
    }

    .level-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .current-level-pill {
      display: inline-flex;
      align-items: center;
      padding: 4px 10px;
      border-radius: 14px;
      background: #122b40;
      font-size: 11px;
    }

    .current-level-pill img {
      width: 16px;
      height: 16px;
      margin-right: 4px;
      border-radius: 50%;
    }

    .next-level {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.7);
    }

    .tabs {
      display: flex;
      margin-bottom: 10px;
    }

    .tab {
      flex: 1;
      text-align: center;
      padding: 8px 0;
      font-size: 12px;
      color: rgba(255, 255, 255, 0.6);
      position: relative;
    }

    .tab.active {
      color: #ffffff;
      font-weight: 500;
    }

    .tab.active::after {
      content: "";
      position: absolute;
      left: 25%;
      right: 25%;
      bottom: 0;
      height: 2px;
      border-radius: 2px;
      background: #f6c453;
    }

    .vip-banner {
      position: relative;
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 16px;
      background-image: url("images/level-big-bg-h5-1-DBrok_Wn.png");
      background-size: cover;
      background-position: center;
      min-height: 120px;
      padding: 14px 16px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .vip-banner-top {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
    }

    .vip-level-label {
      font-size: 24px;
      font-weight: 600;
    }

    .vip-icon {
      width: 70px;
      height: 70px;
    }

    .vip-locked {
      display: inline-flex;
      align-items: center;
      margin-top: 6px;
      padding: 3px 10px;
      border-radius: 20px;
      background: rgba(0, 0, 0, 0.35);
      font-size: 11px;
      color: rgba(255, 255, 255, 0.85);
    }

    .vip-locked::before {
      content: "\1F512";
      font-size: 12px;
      margin-right: 6px;
    }

    .section-title {
      font-size: 13px;
      font-weight: 500;
      margin-bottom: 10px;
    }

    .progress-wrapper {
      margin-bottom: 14px;
    }

    .progress-labels {
      display: flex;
      justify-content: space-between;
      font-size: 10px;
      color: rgba(255, 255, 255, 0.6);
      margin-bottom: 4px;
    }

    .progress-bar {
      position: relative;
      height: 4px;
      border-radius: 999px;
      background: #101b20;
      overflow: hidden;
    }

    .progress-bar-fill {
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 55%;
      background: linear-gradient(90deg, #f6c453, #f5e3a4);
    }

    .progress-dots {
      position: relative;
      margin-top: 6px;
      display: flex;
      justify-content: space-between;
      padding: 0 4px;
    }

    .progress-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #101b20;
      border: 1px solid #f6c453;
    }

    .stats-grid {
      display: flex;
      gap: 10px;
      margin-bottom: 8px;
    }

    .stat-card {
      flex: 1;
      border-radius: 10px;
      background: #101b20;
      padding: 10px;
    }

    .stat-header {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
    }

    .stat-icon {
      width: 18px;
      height: 18px;
      margin-right: 6px;
    }

    .stat-title {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.7);
    }

    .stat-value {
      font-size: 16px;
      font-weight: 500;
      margin-bottom: 2px;
    }

    .stat-sub {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.6);
    }

    .tip-text {
      margin: 8px 2px 16px;
      font-size: 11px;
      color: rgba(255, 255, 255, 0.6);
    }

    .vip-section {
      margin-bottom: 28px;
      display: none;
    }

    .vip-section.active {
      display: block;
    }

    .benefits-card {
      border-radius: 14px;
      background: #101b20;
      padding: 12px 12px 14px;
    }

    .benefits-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
      margin-top: 8px;
    }

    .benefit-item {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.75);
    }

    .benefit-label {
      display: flex;
      align-items: center;
      margin-bottom: 4px;
    }

    .benefit-icon {
      width: 14px;
      height: 14px;
      margin-right: 4px;
    }

    .benefit-main {
      font-weight: 500;
    }

    .benefit-desc {
      font-size: 11px;
      margin-top: 2px;
      color: rgba(255, 255, 255, 0.7);
    }

    .benefit-full-row {
      grid-column: span 2;
    }

    .profit-rate {
      margin-top: 2px;
      font-size: 11px;
    }

    .profit-rate span {
      margin-right: 8px;
    }
  </style>
</head>
<body>
<div class="page">
<div class="header">
<div class="header-left">
<a aria-label="Back" class="back-btn" href="javascript:history.back();">
<span class="back-icon"></span>
</a>
</div>
<div class="header-title">Member</div>
<div class="header-right"></div>
</div>
<div class="main">
<div class="level-bar">
<div class="current-level-pill">
<img alt="" src="images/member-trophy.jpg"/>
<span>Current Member Level:V0</span>
</div>
<div class="next-level">Next Level:V2</div>
</div>

<div class="tabs">
  <div class="tab active" data-level="V1">V1</div>
  <div class="tab" data-level="V2">V2</div>
  <div class="tab" data-level="V3">V3</div>
  <div class="tab" data-level="V4">V4</div>
  <div class="tab" data-level="V5">V5</div>
  <div class="tab" data-level="V6">V6</div>
</div>



<div class="vip-section active" data-level="V1">
  <div class="vip-banner">
    <div class="vip-banner-top">
      <div>
        <div class="vip-level-label">V1</div>
        <div class="vip-locked">Locked at this Level</div>
      </div>
      <img alt="V1" class="vip-icon" src="images/vip1_icon-4ZSc4Mlc.png"/>
    </div>
  </div>

  <div class="section-title">V1 Level Achievement Conditions:</div>
  <div class="progress-wrapper">
    <div class="progress-labels">
      <span>Not Achieved</span>
      <span>Achieved</span>
    </div>
    <div class="progress-bar">
      <div class="progress-bar-fill"></div>
    </div>
    <div class="progress-dots">
      <div class="progress-dot"></div>
      <div class="progress-dot"></div>
      <div class="progress-dot"></div>
    </div>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-header">
        <img alt="" class="stat-icon" src="images/user-2-NAAgvz2o.png"/>
        <div class="stat-title">USDT Balance</div>
      </div>
      <div class="stat-value">0/50</div>
      <div class="stat-sub">USDT Balance needed to reach V1</div>
    </div>
    <div class="stat-card">
      <div class="stat-header">
        <img alt="" class="stat-icon" src="images/user-1-EGMbdrEX.png"/>
        <div class="stat-title">Number of effective users</div>
      </div>
      <div class="stat-value">0/0</div>
      <div class="stat-sub">Number of effective users of direct push and promotion</div>
    </div>
  </div>

  <div class="tip-text">
    Effective user: VIP level 1 and above is a valid user
  </div>

  <div class="section-title">V1 Level Benefits:</div>
  <div class="benefits-card">
    <div class="benefits-grid">
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-1-EGMbdrEX.png"/>
          <span class="benefit-main">Minimum Withdrawal Amount per Transaction</span>
        </div>
        <div class="benefit-desc">20 USDT</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-2-NAAgvz2o.png"/>
          <span class="benefit-main">Maximum Withdrawal Amount per Transaction</span>
        </div>
        <div class="benefit-desc">500 USDT</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-1-EGMbdrEX.png"/>
          <span class="benefit-main">Withdrawal Fee</span></div><div class="benefit-desc">5%</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-2-NAAgvz2o.png"/>
          <span class="benefit-main">Team income level</span></div><div class="benefit-desc">2 Level</div>
      </div>
      <div class="benefit-item benefit-full-row">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/vip1_icon-4ZSc4Mlc.png"/>
          <span class="benefit-main">Generation Profit Rate</span>
        </div>
        <div class="profit-rate"><span>LV.1 20%</span><span>LV.2 5%</span><span>LV.3 3%</span></div>
      </div>
    </div>
  </div>
</div>


<div class="vip-section" data-level="V2">
  <div class="vip-banner">
    <div class="vip-banner-top">
      <div>
        <div class="vip-level-label">V2</div>
        <div class="vip-locked">Locked at this Level</div>
      </div>
      <img alt="V2" class="vip-icon" src="images/vip1_icon-4ZSc4Mlc.png"/>
    </div>
  </div>

  <div class="section-title">V2 Level Achievement Conditions:</div>
  <div class="progress-wrapper">
    <div class="progress-labels">
      <span>Not Achieved</span>
      <span>Achieved</span>
    </div>
    <div class="progress-bar">
      <div class="progress-bar-fill"></div>
    </div>
    <div class="progress-dots">
      <div class="progress-dot"></div>
      <div class="progress-dot"></div>
      <div class="progress-dot"></div>
    </div>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-header">
        <img alt="" class="stat-icon" src="images/user-2-NAAgvz2o.png"/>
        <div class="stat-title">USDT Balance</div>
      </div>
      <div class="stat-value">0/500</div>
      <div class="stat-sub">USDT Balance needed to reach V2</div>
    </div>
    <div class="stat-card">
      <div class="stat-header">
        <img alt="" class="stat-icon" src="images/user-1-EGMbdrEX.png"/>
        <div class="stat-title">Number of effective users</div>
      </div>
      <div class="stat-value">0/5</div>
      <div class="stat-sub">Number of effective users of direct push and promotion</div>
    </div>
  </div>

  <div class="tip-text">
    Effective user: VIP level 1 and above is a valid user
  </div>

  <div class="section-title">V2 Level Benefits:</div>
  <div class="benefits-card">
    <div class="benefits-grid">
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-1-EGMbdrEX.png"/>
          <span class="benefit-main">Minimum Withdrawal Amount per Transaction</span>
        </div>
        <div class="benefit-desc">20 USDT</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-2-NAAgvz2o.png"/>
          <span class="benefit-main">Maximum Withdrawal Amount per Transaction</span>
        </div>
        <div class="benefit-desc">1000 USDT</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-1-EGMbdrEX.png"/>
          <span class="benefit-main">Withdrawal Fee</span></div><div class="benefit-desc">5%</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-2-NAAgvz2o.png"/>
          <span class="benefit-main">Team income level</span>
        </div>
        <div class="benefit-desc">3 Level</div>
      </div>
      <div class="benefit-item benefit-full-row">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/vip1_icon-4ZSc4Mlc.png"/>
          <span class="benefit-main">Generation Profit Rate</span>
        </div>
        <div class="profit-rate"><span>LV.1 20%</span><span>LV.2 5%</span><span>LV.3 3%</span></div>
      </div>
    </div>
  </div>
</div>


<div class="vip-section" data-level="V3">
  <div class="vip-banner">
    <div class="vip-banner-top">
      <div>
        <div class="vip-level-label">V3</div>
        <div class="vip-locked">Locked at this Level</div>
      </div>
      <img alt="V3" class="vip-icon" src="images/vip1_icon-4ZSc4Mlc.png"/>
    </div>
  </div>

  <div class="section-title">V3 Level Achievement Conditions:</div>
  <div class="progress-wrapper">
    <div class="progress-labels">
      <span>Not Achieved</span>
      <span>Achieved</span>
    </div>
    <div class="progress-bar">
      <div class="progress-bar-fill"></div>
    </div>
    <div class="progress-dots">
      <div class="progress-dot"></div>
      <div class="progress-dot"></div>
      <div class="progress-dot"></div>
    </div>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-header">
        <img alt="" class="stat-icon" src="images/user-2-NAAgvz2o.png"/>
        <div class="stat-title">USDT Balance</div>
      </div>
      <div class="stat-value">0/1000</div>
      <div class="stat-sub">USDT Balance needed to reach V3</div>
    </div>
    <div class="stat-card">
      <div class="stat-header">
        <img alt="" class="stat-icon" src="images/user-1-EGMbdrEX.png"/>
        <div class="stat-title">Number of effective users</div>
      </div>
      <div class="stat-value">0/10</div>
      <div class="stat-sub">Number of effective users of direct push and promotion</div>
    </div>
  </div>

  <div class="tip-text">
    Effective user: VIP level 1 and above is a valid user
  </div>

  <div class="section-title">V3 Level Benefits:</div>
  <div class="benefits-card">
    <div class="benefits-grid">
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-1-EGMbdrEX.png"/>
          <span class="benefit-main">Minimum Withdrawal Amount per Transaction</span>
        </div>
        <div class="benefit-desc">20 USDT</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-2-NAAgvz2o.png"/>
          <span class="benefit-main">Maximum Withdrawal Amount per Transaction</span>
        </div>
        <div class="benefit-desc">2000 USDT</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-1-EGMbdrEX.png"/>
          <span class="benefit-main">Withdrawal Fee</span></div><div class="benefit-desc">5%</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-2-NAAgvz2o.png"/>
          <span class="benefit-main">Team income level</span>
        </div>
        <div class="benefit-desc">4 Level</div>
      </div>
      <div class="benefit-item benefit-full-row">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/vip1_icon-4ZSc4Mlc.png"/>
          <span class="benefit-main">Generation Profit Rate</span>
        </div>
        <div class="profit-rate"><span>LV.1 20%</span><span>LV.2 5%</span><span>LV.3 3%</span></div>
      </div>
    </div>
  </div>
</div>


<div class="vip-section" data-level="V4">
  <div class="vip-banner">
    <div class="vip-banner-top">
      <div>
        <div class="vip-level-label">V4</div>
        <div class="vip-locked">Locked at this Level</div>
      </div>
      <img alt="V4" class="vip-icon" src="images/vip1_icon-4ZSc4Mlc.png"/>
    </div>
  </div>

  <div class="section-title">V4 Level Achievement Conditions:</div>
  <div class="progress-wrapper">
    <div class="progress-labels">
      <span>Not Achieved</span>
      <span>Achieved</span>
    </div>
    <div class="progress-bar">
      <div class="progress-bar-fill"></div>
    </div>
    <div class="progress-dots">
      <div class="progress-dot"></div>
      <div class="progress-dot"></div>
      <div class="progress-dot"></div>
    </div>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-header">
        <img alt="" class="stat-icon" src="images/user-2-NAAgvz2o.png"/>
        <div class="stat-title">USDT Balance</div>
      </div>
      <div class="stat-value">0/10000</div>
      <div class="stat-sub">USDT Balance needed to reach V4</div>
    </div>
    <div class="stat-card">
      <div class="stat-header">
        <img alt="" class="stat-icon" src="images/user-1-EGMbdrEX.png"/>
        <div class="stat-title">Number of effective users</div>
      </div>
      <div class="stat-value">0/15</div>
      <div class="stat-sub">Number of effective users of direct push and promotion</div>
    </div>
  </div>

  <div class="tip-text">
    Effective user: VIP level 1 and above is a valid user
  </div>

  <div class="section-title">V4 Level Benefits:</div>
  <div class="benefits-card">
    <div class="benefits-grid">
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-1-EGMbdrEX.png"/>
          <span class="benefit-main">Minimum Withdrawal Amount per Transaction</span>
        </div>
        <div class="benefit-desc">20 USDT</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-2-NAAgvz2o.png"/>
          <span class="benefit-main">Maximum Withdrawal Amount per Transaction</span>
        </div>
        <div class="benefit-desc">3000 USDT</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-1-EGMbdrEX.png"/>
          <span class="benefit-main">Withdrawal Fee</span></div><div class="benefit-desc">5%</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-2-NAAgvz2o.png"/>
          <span class="benefit-main">Team income level</span>
        </div>
        <div class="benefit-desc">5 Level</div>
      </div>
      <div class="benefit-item benefit-full-row">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/vip1_icon-4ZSc4Mlc.png"/>
          <span class="benefit-main">Generation Profit Rate</span>
        </div>
        <div class="profit-rate"><span>LV.1 20%</span><span>LV.2 5%</span><span>LV.3 3%</span></div>
      </div>
    </div>
  </div>
</div>


<div class="vip-section" data-level="V5">
  <div class="vip-banner">
    <div class="vip-banner-top">
      <div>
        <div class="vip-level-label">V5</div>
        <div class="vip-locked">Locked at this Level</div>
      </div>
      <img alt="V5" class="vip-icon" src="images/vip1_icon-4ZSc4Mlc.png"/>
    </div>
  </div>

  <div class="section-title">V5 Level Achievement Conditions:</div>
  <div class="progress-wrapper">
    <div class="progress-labels">
      <span>Not Achieved</span>
      <span>Achieved</span>
    </div>
    <div class="progress-bar">
      <div class="progress-bar-fill"></div>
    </div>
    <div class="progress-dots">
      <div class="progress-dot"></div>
      <div class="progress-dot"></div>
      <div class="progress-dot"></div>
    </div>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-header">
        <img alt="" class="stat-icon" src="images/user-2-NAAgvz2o.png"/>
        <div class="stat-title">USDT Balance</div>
      </div>
      <div class="stat-value">0/10000</div>
      <div class="stat-sub">USDT Balance needed to reach V5</div>
    </div>
    <div class="stat-card">
      <div class="stat-header">
        <img alt="" class="stat-icon" src="images/user-1-EGMbdrEX.png"/>
        <div class="stat-title">Number of effective users</div>
      </div>
      <div class="stat-value">0/20</div>
      <div class="stat-sub">Number of effective users of direct push and promotion</div>
    </div>
  </div>

  <div class="tip-text">
    Effective user: VIP level 1 and above is a valid user
  </div>

  <div class="section-title">V5 Level Benefits:</div>
  <div class="benefits-card">
    <div class="benefits-grid">
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-1-EGMbdrEX.png"/>
          <span class="benefit-main">Minimum Withdrawal Amount per Transaction</span>
        </div>
        <div class="benefit-desc">20 USDT</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-2-NAAgvz2o.png"/>
          <span class="benefit-main">Maximum Withdrawal Amount per Transaction</span>
        </div>
        <div class="benefit-desc">5000 USDT</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-1-EGMbdrEX.png"/>
          <span class="benefit-main">Withdrawal Fee</span></div><div class="benefit-desc">5%</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-2-NAAgvz2o.png"/>
          <span class="benefit-main">Team income level</span>
        </div>
        <div class="benefit-desc">6 Level</div>
      </div>
      <div class="benefit-item benefit-full-row">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/vip1_icon-4ZSc4Mlc.png"/>
          <span class="benefit-main">Generation Profit Rate</span>
        </div>
        <div class="profit-rate"><span>LV.1 20%</span><span>LV.2 5%</span><span>LV.3 3%</span></div>
      </div>
    </div>
  </div>
</div>


<div class="vip-section" data-level="V6">
  <div class="vip-banner">
    <div class="vip-banner-top">
      <div>
        <div class="vip-level-label">V6</div>
        <div class="vip-locked">Locked at this Level</div>
      </div>
      <img alt="V6" class="vip-icon" src="images/vip1_icon-4ZSc4Mlc.png"/>
    </div>
  </div>

  <div class="section-title">V6 Level Achievement Conditions:</div>
  <div class="progress-wrapper">
    <div class="progress-labels">
      <span>Not Achieved</span>
      <span>Achieved</span>
    </div>
    <div class="progress-bar">
      <div class="progress-bar-fill"></div>
    </div>
    <div class="progress-dots">
      <div class="progress-dot"></div>
      <div class="progress-dot"></div>
      <div class="progress-dot"></div>
    </div>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-header">
        <img alt="" class="stat-icon" src="images/user-2-NAAgvz2o.png"/>
        <div class="stat-title">USDT Balance</div>
      </div>
      <div class="stat-value">0/100000</div>
      <div class="stat-sub">USDT Balance needed to reach V6</div>
    </div>
    <div class="stat-card">
      <div class="stat-header">
        <img alt="" class="stat-icon" src="images/user-1-EGMbdrEX.png"/>
        <div class="stat-title">Number of effective users</div>
      </div>
      <div class="stat-value">0/25</div>
      <div class="stat-sub">Number of effective users of direct push and promotion</div>
    </div>
  </div>

  <div class="tip-text">
    Effective user: VIP level 1 and above is a valid user
  </div>

  <div class="section-title">V6 Level Benefits:</div>
  <div class="benefits-card">
    <div class="benefits-grid">
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-1-EGMbdrEX.png"/>
          <span class="benefit-main">Minimum Withdrawal Amount per Transaction</span>
        </div>
        <div class="benefit-desc">20 USDT</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-2-NAAgvz2o.png"/>
          <span class="benefit-main">Maximum Withdrawal Amount per Transaction</span>
        </div>
        <div class="benefit-desc">7000 USDT</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-1-EGMbdrEX.png"/>
          <span class="benefit-main">Withdrawal Fee</span></div><div class="benefit-desc">5%</div>
      </div>
      <div class="benefit-item">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/user-2-NAAgvz2o.png"/>
          <span class="benefit-main">Team income level</span>
        </div>
        <div class="benefit-desc">7 Level</div>
      </div>
      <div class="benefit-item benefit-full-row">
        <div class="benefit-label">
          <img alt="" class="benefit-icon" src="images/vip1_icon-4ZSc4Mlc.png"/>
          <span class="benefit-main">Generation Profit Rate</span>
        </div>
        <div class="profit-rate"><span>LV.1 20%</span><span>LV.2 5%</span><span>LV.3 3%</span></div>
      </div>
    </div>
  </div>
</div>
</div>
</div>
</div>

<script>
  (function() {
    var tabs = document.querySelectorAll('.tabs .tab');
    var sections = document.querySelectorAll('.vip-section');

    function setActive(level) {
      tabs.forEach(function(tab) {
        tab.classList.toggle('active', tab.getAttribute('data-level') === level);
      });
      sections.forEach(function(sec) {
        sec.classList.toggle('active', sec.getAttribute('data-level') === level);
      });
    }

    tabs.forEach(function(tab) {
      tab.addEventListener('click', function() {
        var level = tab.getAttribute('data-level');
        setActive(level);
      });
    });
  })();
</script>

<!-- Load Supabase configuration -->
<script src="sb-config.js"></script>
<!-- Authentication helpers -->
<script src="auth.js"></script>
<!-- Wallet helpers -->
<script src="wallet.js"></script>
<!-- Balance updater -->
<script src="sb-balance.js"></script>
<!-- Enforce login redirects -->
<script src="common-nav.js"></script>
<script>
  (function () {
    function applyVipInfo() {
      if (!window.DemoWallet || !window.DemoWallet.getVipInfo) return;
      var info = window.DemoWallet.getVipInfo();

      var pillSpan = document.querySelector(".current-level-pill span");
      if (pillSpan && info.currentLevel) {
        pillSpan.textContent = "Current Member Level:" + info.currentLevel;
      }

      var nextLevelEl = document.querySelector(".next-level");
      if (nextLevelEl) {
        if (info.nextLevel) {
          nextLevelEl.textContent = "Next Level:" + info.nextLevel;
        } else {
          nextLevelEl.textContent = "Max Level";
        }
      }

      var sections = document.querySelectorAll(".vip-section");
      var balance = typeof info.balance === "number" ? info.balance : 0;
      var effectiveUsers = 0;
      if (typeof info.effectiveUsers === "number") {
        effectiveUsers = info.effectiveUsers;
      }
      if (window.DemoWallet && typeof window.DemoWallet.getTeamSummary === "function") {
        try {
          var team = window.DemoWallet.getTeamSummary();
          if (team && team.members && team.members.length) {
            effectiveUsers = team.members.filter(function (m) {
              return m.level && m.level >= 1;
            }).length;
          }
        } catch (e) {}
      }

      sections.forEach(function (sec) {
        var level = sec.getAttribute("data-level");
        var rules = info.rulesByLevel && info.rulesByLevel[level];
        if (!rules) return;

        var statValues = sec.querySelectorAll(".stat-card .stat-value");
        if (statValues.length >= 2) {
          statValues[0].textContent = balance + "/" + rules.minBalance;

          var requiredUsersMap = {
            "V1": 0,
            "V2": 5,
            "V3": 10,
            "V4": 15,
            "V5": 20,
            "V6": 25
          };
          var requiredUsers = requiredUsersMap[level] != null ? requiredUsersMap[level] : rules.minUsers;
          statValues[1].textContent = effectiveUsers + "/" + requiredUsers;
        }
      });
    }

    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", applyVipInfo);
    } else {
      applyVipInfo();
    }
  })();
</script>


<script>
  (function () {
    'use strict';

    var SB = window.SB_CONFIG;
    function sbHeaders() { return SB && typeof SB.headers === 'function' ? SB.headers() : {}; }

    function uniq(arr) {
      var out = [];
      var seen = {};
      for (var i = 0; i < arr.length; i++) {
        var v = arr[i];
        if (!v || seen[v]) continue;
        seen[v] = true;
        out.push(v);
      }
      return out;
    }

    function chunk(arr, n) {
      var out = [];
      for (var i = 0; i < arr.length; i += n) out.push(arr.slice(i, i + n));
      return out;
    }

    async function getCurrentUserId() {
      try {
        if (window.ExaAuth && typeof window.ExaAuth.ensureSupabaseUserId === 'function') {
          return await window.ExaAuth.ensureSupabaseUserId();
        }
      } catch (e) {}
      try { return localStorage.getItem('currentUserId') || localStorage.getItem('sb_user_id_v1') || ''; } catch (e2) { return ''; }
    }

    async function rpc(fnName, payload) {
      var url = SB.url.replace(/\/$/, '') + '/rest/v1/rpc/' + encodeURIComponent(fnName);
      var res = await fetch(url, {
        method: 'POST',
        headers: sbHeaders(),
        body: JSON.stringify(payload || {})
      });
      var text = await res.text();
      var data;
      try { data = text ? JSON.parse(text) : null; } catch (e) { data = text; }
      if (!res.ok) {
        var msg = (data && (data.message || data.error || data.details)) ? (data.message || data.error || data.details) : ('RPC ' + fnName + ' failed');
        throw new Error(msg);
      }
      return data;
    }

    async function fetchUsersByInviterIds(inviterIds) {
      inviterIds = Array.isArray(inviterIds) ? inviterIds.filter(Boolean) : [];
      if (!inviterIds.length) return [];
      // Supabase REST has a URL length limit, chunk the IN list
      var all = [];
      var groups = chunk(inviterIds, 60);
      for (var i = 0; i < groups.length; i++) {
        var ids = groups[i];
        var inList = '(' + ids.map(function (x) { return '"' + String(x).replace(/"/g,'') + '"'; }).join(',') + ')';
        var url = SB.url.replace(/\/$/, '') + '/rest/v1/users?select=id,inviter_id&inviter_id=in.' + encodeURIComponent(inList) + '&order=created_at.asc';
        var res = await fetch(url, { method: 'GET', headers: sbHeaders() });
        if (!res.ok) continue;
        var rows = await res.json();
        if (Array.isArray(rows) && rows.length) all = all.concat(rows);
      }
      return all;
    }

    async function fetchWalletBalance(uid) {
      var url = SB.url.replace(/\/$/, '') + '/rest/v1/wallet_balances?select=usdt_balance&user_id=eq.' + encodeURIComponent(uid) + '&limit=1';
      var res = await fetch(url, { method: 'GET', headers: sbHeaders() });
      if (!res.ok) return 0;
      var rows = await res.json();
      var v = rows && rows[0] ? Number(rows[0].usdt_balance) : 0;
      return isFinite(v) ? v : 0;
    }

    async function fetchFundedMapByUserIds(userIds) {
      userIds = Array.isArray(userIds) ? userIds.filter(Boolean) : [];
      var map = {};
      if (!userIds.length) return map;

      // Try both possible arg names to be safe (depending on how the function was created)
      var payloads = [
        { user_ids: userIds },
        { p_user_ids: userIds }
      ];

      var rows = null;
      for (var i = 0; i < payloads.length; i++) {
        try {
          rows = await rpc('rpc_users_funded', payloads[i]);
          break;
        } catch (e) {
          rows = null;
        }
      }

      if (!Array.isArray(rows)) return map;
      rows.forEach(function (r) {
        if (!r) return;
        var id = r.user_id || r.userId || r.id;
        if (!id) return;
        map[String(id)] = !!(r.funded === true || r.funded === 'true' || r.is_funded === true || r.is_funded === 'true');
      });
      return map;
    }

    function countFunded(ids, fundedMap) {
      var c = 0;
      for (var i = 0; i < ids.length; i++) {
        if (fundedMap[ids[i]]) c++;
      }
      return c;
    }

    var rulesByLevel = {
      V1: { minBalance: 50,    minUsersTotal: 0  },
      V2: { minBalance: 500,   minUsersTotal: 5  },
      V3: { minBalance: 3000,  minUsersTotal: 10 },
      V4: { minBalance: 10000, minUsersTotal: 30 },
      V5: { minBalance: 30000, minUsersTotal: 50 },
      V6: { minBalance: 100000,minUsersTotal: 75 }
    };
    var levelOrder = ["V0","V1","V2","V3","V4","V5","V6"];

    function calculateCurrentLevel(balance, totalUsers) {
      var current = "V0";
      if (balance >= rulesByLevel.V1.minBalance && totalUsers >= rulesByLevel.V1.minUsersTotal) current = "V1";
      if (balance >= rulesByLevel.V2.minBalance && totalUsers >= rulesByLevel.V2.minUsersTotal) current = "V2";
      if (balance >= rulesByLevel.V3.minBalance && totalUsers >= rulesByLevel.V3.minUsersTotal) current = "V3";
      if (balance >= rulesByLevel.V4.minBalance && totalUsers >= rulesByLevel.V4.minUsersTotal) current = "V4";
      if (balance >= rulesByLevel.V5.minBalance && totalUsers >= rulesByLevel.V5.minUsersTotal) current = "V5";
      if (balance >= rulesByLevel.V6.minBalance && totalUsers >= rulesByLevel.V6.minUsersTotal) current = "V6";
      return current;
    }

    function getNextLevel(currentLevel) {
      var idx = levelOrder.indexOf(currentLevel);
      if (idx < 0 || idx >= levelOrder.length - 1) return null;
      return levelOrder[idx + 1];
    }

    async function loadEffectiveUsersAndBalance() {
      if (!SB || !SB.url) throw new Error('SB_CONFIG missing');
      var myId = await getCurrentUserId();
      if (!myId) throw new Error('Missing user session');

      // 3-level downline like My Team page
      var gen1 = await fetchUsersByInviterIds([myId]);
      var gen1Ids = gen1.map(function (u) { return u.id; }).filter(Boolean);

      var gen2 = gen1Ids.length ? await fetchUsersByInviterIds(gen1Ids) : [];
      var gen2Ids = gen2.map(function (u) { return u.id; }).filter(Boolean);

      var gen3 = gen2Ids.length ? await fetchUsersByInviterIds(gen2Ids) : [];
      var gen3Ids = gen3.map(function (u) { return u.id; }).filter(Boolean);

      var allTeamIds = uniq(gen1Ids.concat(gen2Ids).concat(gen3Ids));
      var fundedMap = await fetchFundedMapByUserIds(allTeamIds);

      var fundedGen1 = countFunded(gen1Ids, fundedMap);
      var fundedGen2 = countFunded(gen2Ids, fundedMap);
      var fundedGen3 = countFunded(gen3Ids, fundedMap);
      var totalEffectiveUsers = fundedGen1 + fundedGen2 + fundedGen3;

      var balance = await fetchWalletBalance(myId);

      return { balance: balance, effectiveUsers: totalEffectiveUsers };
    }

    async function applyVipLogic() {
      var balance = 0;
      var totalEffectiveUsers = 0;

      try {
        var data = await loadEffectiveUsersAndBalance();
        balance = typeof data.balance === 'number' ? data.balance : 0;
        totalEffectiveUsers = typeof data.effectiveUsers === 'number' ? data.effectiveUsers : 0;
      } catch (e) {
        // Keep zeros if anything fails (page still renders)
        balance = 0;
        totalEffectiveUsers = 0;
      }

      var currentLevel = calculateCurrentLevel(balance, totalEffectiveUsers);
      var nextLevel = getNextLevel(currentLevel);

      var pillSpan = document.querySelector(".current-level-pill span");
      if (pillSpan) pillSpan.textContent = "Current Member Level:" + currentLevel;

      var nextLevelEl = document.querySelector(".next-level");
      if (nextLevelEl) nextLevelEl.textContent = nextLevel ? ("Next Level:" + nextLevel) : "Max Level";

      var sections = document.querySelectorAll(".vip-section");
      sections.forEach(function (sec) {
        var level = sec.getAttribute("data-level");
        var rules = rulesByLevel[level];
        if (!rules) return;

        var statValues = sec.querySelectorAll(".stat-card .stat-value");
        if (statValues.length >= 2) {
          statValues[0].textContent = balance + "/" + rules.minBalance;

          var prevIndex = levelOrder.indexOf(level) - 1;
          var prevLevelName = prevIndex >= 1 ? levelOrder[prevIndex] : null;
          var prevTotal = prevLevelName && rulesByLevel[prevLevelName] ? rulesByLevel[prevLevelName].minUsersTotal : 0;

          var requiredIncrement = rules.minUsersTotal - prevTotal;
          if (requiredIncrement < 0) requiredIncrement = 0;

          if (requiredIncrement === 0) {
            statValues[1].textContent = totalEffectiveUsers + "/0";
          } else {
            statValues[1].textContent = totalEffectiveUsers + "/" + requiredIncrement;
          }
        }

        var lockedLabel = sec.querySelector(".vip-locked");
        if (lockedLabel) {
          var achieved = false;
          if (rules.minUsersTotal === 0) {
            achieved = balance >= rules.minBalance;
          } else {
            achieved = balance >= rules.minBalance && totalEffectiveUsers >= rules.minUsersTotal;
          }
          lockedLabel.textContent = achieved ? "Unlocked" : "Locked at this Level";
        }
      });
    }

    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", function () { applyVipLogic(); });
    } else {
      applyVipLogic();
    }
  })();
</script>

</body>
</html>
